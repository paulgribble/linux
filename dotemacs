;; emacs local site-lisp
(setq load-path (cons "/usr/local/share/emacs/site-lisp" load-path))

;; wrap at window edge
(setq line-move-visual t)


;; org-mode
(require 'org-install)
(require 'org-latex)
(require 'htmlize)

(require 'org-publish)
(setq org-publish-project-alist
      '(
 ("CBootCampLocal"
	 :base-directory "~/Desktop/CBootCamp/org/"
	 :base-extension "org"
	 :publishing-directory "~/Desktop/CBootCamp/html"
	 :publishing-function org-publish-org-to-html
	 :recursive t
	 :html-postamble "<hr />%a %d"
	 :language en
	 :link-home "index.html"
	 :link-up "index.html"
	 :style "<link rel=\"stylesheet\" type=\"text/css\" href=\"mystyle.css\" />"
	 )
	("CBootCampWeb"
	 :base-directory "~/Desktop/CBootCamp/html/"
	 :base-extension "css\\|html"
	 :publishing-directory "/ssh:admin@leviathan.ssc.uwo.ca:~/gribblelab.org/CBootCamp/"
	 :publishing-function org-publish-attachment
	 :recursive t
	 )
	("org" :components ("CBootCampLocal" "CBootCampWeb"))))

;; active Babel languages
(org-babel-do-load-languages
 'org-babel-load-languages
 '((sh . t)
  (R . t)
  (python . t)
  (C . t)
  ))
(global-set-key "\C-cl" 'org-store-link)
(global-set-key "\C-cc" 'org-capture)
(global-set-key "\C-ca" 'org-agenda)
(global-set-key "\C-cb" 'org-iswitchb)
(defun my-org-confirm-babel-evaluate (lang body)
           (not (string= lang "R")))  ; don't ask for R
(setq org-confirm-babel-evaluate 'my-org-confirm-babel-evaluate)

;; csv-mode
(add-to-list 'auto-mode-alist '("\\.[Cc][Ss][Vv]\\'" . csv-mode))
(autoload 'csv-mode "csv-mode"
 "Major mode for editing comma-separated value files." t)

;; AUCTeX
(require 'tex-site)
(setq TeX-auto-save t)
(setq TeX-parse-self t)
(setq-default TeX-master nil)

